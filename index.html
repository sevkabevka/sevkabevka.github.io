<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Window Spam</title>
<style>
  body {
    margin: 0;
    height: 100vh;
    background: linear-gradient(135deg, #74ebd5 0%, #ACB6E5 100%);
    overflow: hidden;
    user-select: none;
  }
</style>
</head>
<body>
<script>
  const audioSrc = 'https://sevkabevka.github.io/alah.mp3';

  // Create a single popup window with motion and rotation and audio loop
  function spawnWindow() {
    const win = window.open('', '', 'width=500,height=500,left=100,top=100');
    if (!win) return;

    // Write basic black body + audio playing loop
    win.document.write(`
      <style>
        body {
          margin:0;
          background:black;
          overflow:hidden;
        }
        audio {
          display:none;
        }
      </style>
      <body>
        <audio autoplay loop src="${audioSrc}"></audio>
      </body>
    `);
    win.document.close();

    // Animate window moving and rotating by changing position and size in intervals
    let angle = 0;
    let x = 100;
    let y = 100;
    let dx = (Math.random() - 0.5) * 10;
    let dy = (Math.random() - 0.5) * 10;
    let rotationSpeed = (Math.random() - 0.5) * 10;

    const interval = setInterval(() => {
      if (win.closed) {
        clearInterval(interval);
        return;
      }
      x += dx;
      y += dy;
      angle += rotationSpeed;

      // Keep window inside screen bounds (roughly)
      const screenW = screen.availWidth;
      const screenH = screen.availHeight;

      if (x < 0 || x > screenW - 500) dx = -dx;
      if (y < 0 || y > screenH - 500) dy = -dy;

      // Apply position (some browsers may not rotate window, so simulate with size)
      win.moveTo(x, y);

      // Trick: change window size slightly to simulate some motion
      let sizeMod = 20 * Math.abs(Math.sin(angle * Math.PI / 180));
      win.resizeTo(500 + sizeMod, 500 + sizeMod);
    }, 100);
  }

  // Spam multiple windows on event
  function spamWindows() {
    for (let i = 0; i < 5; i++) {
      spawnWindow();
    }
  }

  // Event listeners for left click, right click and space press
  document.addEventListener('click', spamWindows);
  document.addEventListener('contextmenu', e => {
    e.preventDefault();
    spamWindows();
  });
  document.addEventListener('keydown', e => {
    if (e.code === 'Space') {
      spamWindows();
    }
  });
</script>
</body>
</html>
